<section>
  <h2>
    Peoples: {{ paginatedPeoples.total }}
  </h2>

  @if (error) {
    <app-error-notification [title]="error.title" [message]="error.message" (closeEvent)="closeNotificationError()"></app-error-notification>
  }

  <form [formGroup]="form" (ngSubmit)="onSearchChange()">
    <fieldset>
      <label for="search">Search: </label>
      <input id="search" formControlName="search" type="text">
    </fieldset>

    <button type="submit" [disabled]="form.invalid">
       <img src="assets/icons/search.svg" alt="Search" title="Search" />
    </button>
  </form>

  @if (paginatedPeoples.results.length > 0) {
    <app-people-table [peoples]="paginatedPeoples.results" [page]="paginatedPeoples.page" [totalPages]="totalPages" (sortChange)="onSortChange($event)" (pageChange)="onPageChange($event)"></app-people-table>
  }

  @if (isSubmitted && paginatedPeoples.results.length === 0) {
    <footer>
      <app-not-found-message></app-not-found-message>
    </footer>
  }
</section>